<html>
<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Учебно-тренировочные сборы по информатике 1</title>
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script type="text/javascript" src="../syntax/sh_main.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_pascal.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_cpp.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_python.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_basic.js"></script>
    <link type="text/css" rel="stylesheet" href="../style/sh_nedit.css">
    <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});

    </script>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>
<body onLoad="sh_highlightDocument();">

<div id="content">
    <h1>Учебно-тренировочные сборы по информатике 1</h1>


<h2>Занятия по дням (обновляются)</h2>
<ul>
<li>
<a href="http://lisiynos.googlecode.com/git/uts/uts1.html">
         http://lisiynos.googlecode.com/git/uts/uts1.html - первый день (понедельник)</a>
</li>
<li>
<a href="http://lisiynos.googlecode.com/git/uts/uts2.html">
         http://lisiynos.googlecode.com/git/uts/uts2.html - второй день (вторник)</a>
</li>
<li>
<a href="http://lisiynos.googlecode.com/git/uts/uts3.html">
         http://lisiynos.googlecode.com/git/uts/uts3.html - третий день (среда)</a>
</li>
<li>
<a href="http://lisiynos.googlecode.com/git/uts/uts4.html">
         http://lisiynos.googlecode.com/git/uts/uts4.html - четвёртый день (четверг)</a>
</li>
<li>
<a href="http://lisiynos.googlecode.com/git/uts/uts5.html">
         http://lisiynos.googlecode.com/git/uts/uts5.html - пятый день (пятница)</a>
</li>
<li>
<a href="http://lisiynos.googlecode.com/git/uts/uts6.html">
         http://lisiynos.googlecode.com/git/uts/uts6.html - шестой день (суббота)</a>
</li>
</ul>

<h2>Пример решения задачи Z - сумма двух чисел.</h2>

<h3> Pascal </h3>
    <pre class="sh_pascal">
var a, b : longint; { ещё лучше int64 }
begin
  assign(input,'sum.in'); reset(input);
  assign(output,'sum.out'); rewrite(output);
  read(a, b);
  writeln(a+b)
end.</pre> 

<h3>Delphi</h3>
    <pre class="sh_pascal">
{$APPTYPE CONSOLE}

var a, b : int64;
begin
  assign(input,'sum.in'); reset(input);
  assign(output,'sum.out'); rewrite(output);
  read(a, b);
  writeln(a+b)
end.</pre> 

<p>Решение задачи "A+B" с вводом из файла <strong>sum.in</strong> и выводом в файл <strong>sum.out</strong>.</p> 
<pre class="sh_python">
import sys
sys.stdin = open("sum.in") # Закомментируйте эту строку для ввода с клавиатуры
sys.stdout = open("sum.out", "w") # Закомментрируйте эту строку для вывода на экран
A,B = input(), input() # Вводим 2 целых A и B (они в разных строках)
print(A+B)
</pre>

<h2>Разбор задач</h2>

<h3>2. Праздничные дни</h3>

<p>
В Тридевятом царстве царь был любителем разных заморских традиций. Как прознает, что в другом царстве есть какой-то обычай, сразу думает, как бы его к тридевятым реалиям приспособить.

<p>
Вот неделю назад вернулось посольство из Тридесятого царства. И главный посол доложил царю: дескать, придумал Тридесятый царь следующую вещь. Чтобы как-то зарегулировать гуляния народные, повелел он указать определенные дни, и в эти дни устраивать широкие гуляния, а в остальные дни массовые сборища запретить. И с тех пор жизнь в Тридесятом царстве стала прекрасной: гулять так гулять, работать так работать, и все строго по цареву указу.
</p>

<p>
Понравилась мысль такая царю Тридевятого царства. Подумал он ввести и у себя такие порядки. Собрал царь советников своих, и говорит: подготовьте мне список дней, в которые гулять можно. Только не на год, а на $N$ дней вперед - посмотрим, дескать, что получится; понравится  -  сделаем круглогодичным.
</p>
<p>
И вот вчера принесли советники царю список. Но вот незадача: каждый советник свой список приготовил, да еще и обоснование предложил, какой праздник в какой из этих дней надо отмечать. И у всех советников праздники важные, но у всех - разные! Царь думал-думал и решил: а возьмем их все  -  объединим предложения советников! Если какой-то день есть в списке хотя бы одного советника, то объявим этот день праздничным, и пускай народ гуляет! Глядишь, и не будет недовольных.
</p>
<p>
Только одна проблема осталась: некоторые дни оказались в списках сразу у нескольких советников. Но царь и тут нашел выход: перенесем некоторые праздники на более поздние дни, так, чтобы в каждый день получался только один праздник, и переносы были бы как можно короче.
</p>
<p>
Пусть, например, четыре советника сразу предложили сделать некоторый день (пускай день 5) праздничным. Тогда перенесем три из этих четырех праздников на дни 6, 7 и 8 - так, что праздничными будут дни с 5 по 8 включительно. А если оказывается, что, например, день 7 тоже предложен в качестве праздничного кем-нибудь из советников, то перенесем этот праздник еще дальше  -  на день 9.
</p>
<p>
Напишите программу, которая, зная предложения советников, определит, какие дни будут праздничными, а какие нет. Не забывайте, что праздники можно переносить только на более поздние дни; на более ранние переносить нельзя.
</p>

<p><b>Разбор:</b></p>

<p>
Будем обрабатывать дни последовательно. 
А именно, для каждого дня считаем из файла его "кратность" и сразу же решим и выведем в выходной файл, будет этот день праздничным или нет. 
При этом в каждый момент времени у нас фактически будет считано некоторое количество $p$ праздников (это количество будет равно сумме всех считанных чисел), 
и некоторое количество $q$ праздников уже будет выведено в выходной файл (это количество равно количеству выведенных плюсов). 
Соответственно, у нас в каждый момент будет некоторое количество ("баланс") еще "не распределенных" праздников, равное разности величин $p$ и $q$.
</p>
<p>
Будем эту разность поддерживать в переменной $s$. Тогда программа пишется легко. Считав очередную кратность, увеличим баланс $s$ на соответствующую величину. 
Далее, если теперь баланс положительный, т.е. есть еще праздники, которые не распределены (учитывая те, которые мы только что считали), то, очевидно, текущий день надо назначить праздником.
В таком случае выводим плюс и уменьшаем $s$ на единицу. Если же баланс $s$ был равен нулю, то очевидно выводим минус и не меняем $s$.
</p>
<p>
После обработки всех дней надо не забыть вывести плюсы, соответствующие праздникам, перенесенным позже $N$-ого дня - количество таких плюсов будет равно значению переменной $s$ после обработки всех входных данных.
</p>

<pre class="sh_pascal">
var n,i : longint;
    a,s : longint;
begin
  assign(input, 'holidays.in'); reset(input);
  assign(output, 'holidays.out'); rewrite(output);
  read(n);
  s := 0;
  for i := 1 to n do begin
    read(a);
    s:=s+a;
    if s>0 then begin
        write('+ ');
        dec(s);
    end else write('- ');
  end;
  for s := s downto 1 do
    write('+ ');
  writeln;
end.
</pre>

</div>
</body>
</html>