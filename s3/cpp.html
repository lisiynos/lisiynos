<html>
<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Язык программирования C/C++</title>
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script type="text/javascript" src="../syntax/sh_main.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_cpp.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_pascal.min.js"></script>
    <script type="text/javascript" src="../syntax/load.js"></script>
    <link type="text/css" rel="stylesheet" href="../style/sh_nedit.css">
    <script type="text/javascript">
        function f() {
            sh_highlightDocument();
            loadFiles([
                ['test', 'a.cpp']
            ], function () {
                sh_highlightDocument();
            });
        }
    </script>
</head>
<body onLoad="f()">
<div style="width:80%;">
    <div style="float:right;">
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
                codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
                width="100" height="50">
            <param name="movie" value="../audio/a_smsqulh3n.swf">
            <param name="bgcolor" value="fff">
            <param name="FlashVars" value="src=9094e666f613f513f50301------------ffffff">
            <param name="autoplay" value="false">
            <embed src="../audio/a_smsqulh3n.swf" bgcolor="fff"
                   width="100" height="70" type="application/x-shockwave-flash"
                   pluginspage="http://www.macromedia.com/go/getflashplayer"
                   FlashVars="src=9094e666f613f513f50301------------ffffff"></embed>
        </object>
    </div>
</div>

<div id="content">

<h1>Язык программирования С/C++</h1>

<ul class="tags">
    <li><a href="#">С/C++</a></li>
</ul>

<p>Язык C/C++ является самым популярным языком программирования.
    При правильном использовании преимуществ языка на C/C++ можно создавать наиболее быстрые и экономичные по памяти
    решения.</p>

<p>Цель этого урока - дать вам сведения о языке программирования C/C++ в достаточной мере для решения на нём
    олимпиадных задач (создания консольных приложений с вводом-выводом при помощи текстовых файлов).</p>

<h2>Преимущества и недостатки языка C/C++ </h2>

<p><strong>Преимущества:</strong></p>
<ol>
    <li>Скорость работы итоговой программы (по сравнению с Java / Python).</li>
    <li>Прямое управление димамической памятью, что опять же важно для скорости работы.</li>
</ol>
<p><strong>Недостатки:</strong></p>
<ol>
    <li>Трудный для понимания синтаксис, который вызывает ошибки. Близкие по обозначению разнонаправленные операции
        (можно спутать).
    </li>
    <li>3 основных операции (присваивание, инкрементация, декрементация) в сочетании с другими операциями предполагает
        создание сложных для чтения выражений (усложняет диагностику).
    </li>
    <li>Необходимо очень внимательно работать с указателями, ссылками, динамической памятью, проверять не происходит ли
        выход за границы массива.
    </li>
</ol>

<h2>Историческая справка</h2>

<p>Язык Си (С) был создан Деннисом Ричи (Ritchie, Dennis M.; р. 1941) в 1973 году в Bell Labs в ходе разработки
    операционной системы UNIX. Он развивал язык Би (B), который основывался на созданном в Кембриджском университете
    языке BCPL (от Basic Combined Programming Language), который в свою очередь был потомком
    Алгола-60.
</p>

<h3>K&R C</h3>

<p>

</p>

<p>В 1978 году Брайан Керниган и Деннис Ритчи опубликовали первую редакцию книги «Язык программирования Си».
    Эта книга, известная среди программистов как «K&R», служила многие годы неформальной спецификацией языка. Версию
    языка Си, описанную в ней, часто называют «K&R C». Вторая редакция этой книги посвящена более позднему стандарту
    ANSI C.</p>


<p>K&R C часто считают самой главной частью языка, которую должен поддерживать компилятор Си. Многие годы даже после
    выхода ANSI C, он считался минимальным уровнем, которого следовало придерживаться программистам, желающим добиться
    от своих программ максимальной переносимости, потому что не все компиляторы тогда поддерживали ANSI C, а хороший код
    на K&R C был верен и для ANSI C.</p>


<h2>Установка интерпретатора MinGW</h2>

<p>Официальный сайт: <a href="http://www.mingw.org/">http://www.mingw.org</a></p>

<p><strong>Установка под Linux:</strong> обычно компилятор GNU C/C++ входит в дистрибутив и устанавливается при
    установке Linux. Установить в любой момент можно командой: <strong>sudo apt-get install g++</strong></p>

<p><strong>Установка под Windows:</strong></p>

<p>Скачать на странице <a href="http://sourceforge.net/projects/mingw/files/">http://sourceforge.net/projects/mingw/files/</a>
    инсталлятор <strong>mingw-get-inst-_версия_.exe </strong>и запустить его (он скачает все нужные компоненты с
    интернета).</p>

<p><img src="cpp/mingw1.png" width="513" height="398" alt="mingw1"></p>

<p>Нажимаем <strong>Next &gt;</strong></p>

<p><img src="cpp/mingw2.png" width="513" height="398" alt="mingw - шаг 2"></p>

<p>Нам предлагают выбор:</p>
<ul>
    <li>использовать версию компонент соответствующую этому инсталлятору;</li>
    <li> скачать самую последнюю версию.</li>
</ul>
<p>Поскольку мы только скачали инсталлятор, разницы нет. Нажимаем <strong>Next &gt;</strong></p>

<p><img src="cpp/mingw3.png" width="513" height="398" alt="MinGW - шаг 3"></p>

<p>MinGW распространяется под лицензией <a href="http://ru.wikipedia.org/wiki/GNU_GPL">GNU GPL (GNU General Public
    License)</a>, нам нужно с ней согласиться, чтобы установить MinGW, выбираем &quot;I accept the agreement&quot; (я
    принимаю соглашение).</p>

<p><em><img src="cpp/mingw4.png" width="513" height="398" alt="MinGW - шаг 4"></em></p>

<p>Выбор каталога установки, я оставляю &quot;по-умолчанию&quot; <strong>С:\MinGW</strong> чтобы не менять пути в
    различных скриптах. <strong>Next &gt;</strong>.</p>

<p><img src="cpp/mingw5.png" width="513" height="398" alt="MinGW 5"></p>

<p>Как назвать ярлык MinGW в кнопке <strong>Пуск</strong>. Мне трудно представить ситуацию когда нужно менять это
    значение :) Нажимаем <strong>Next &gt;</strong>.</p>

<p><img src="cpp/mingw6.png" width="513" height="398" alt="MinGW 6"></p>

<p>Выбираем компоненты для установки C / C++.</p>

<p><img src="cpp/mingw7.png" width="513" height="398" alt="5"></p>

<p>Инсталлятор показывает нам выбранные пакеты. Нажимаем <strong>Install</strong>, начинают скачиваться пакеты.</p>

<p><img src="cpp/mingw8.png" width="677" height="342" alt="9"></p>

<p>Пакеты скачиваются и устанавливаются.</p>

<p><img src="cpp/mingw9.png" width="513" height="398" alt="MinGW 9"></p>

<p>Всё, нажимаем <strong>Finish</strong>.</p>

<p>Теперь надо добавить в переменную окружения PATH пути к компиляторам <strong>C:\MinGW\bin</strong>. Для вызова окна
    со свойствами системы нажмите <strong>Win + Pause</strong>, выберите &quot;Дополнительные параметры системы&quot;.
</p>

<p><img src="cpp/path0.png" width="420" height="505"></p>

<p><img src="cpp/path2.png" width="369" height="153" alt="path2"></p>

<h2>Ввод / вывод при помощи потоков</h2>

<pre class="sh_cpp">
#include &lt;stdio.h&gt;<br>#include &lt;iostream&gt;

using namespace std;

int main(){
  freopen("sum.in", "r", stdin); // Ввод из файла вместо клавиатуры
  freopen("sum.out", "w", stdout); // Вывод в файл вместо экрана
  long long a,b; // 64-битное целое со знаком
  cin >> a >> b;
  cout << (a+b);
  return 0; // Выход с кодом 0
}</pre>

<p>Форматирование до заданного числа знаков:</p>

<p>&nbsp;</p>

<pre id="test" class="sh_cpp">
</pre>

<script type="application/javascript">
    function processReqChange() {
        try { // Важно!
            // только при состоянии "complete"
            if (a.readyState == 4) {
                // для статуса "OK"
                if (a.status == 200) {
                    // обработка ответа
                    //alert(a.text);
                    el = document.createTextNode(a.responseText);
                    document.getElementById("test").appendChild(el);
                    sh_highlightDocument();
                } else {
                    alert("Не удалось получить данные:\n" +
                            a.statusText);
                }
            }
        }
        catch (e) {
            // alert('Ошибка: ' + e.description);
            // В связи с багом XMLHttpRequest в Firefox приходится отлавливать ошибку
            // Bugzilla Bug 238559 XMLHttpRequest needs a way to report networking errors
            // https://bugzilla.mozilla.org/show_bug.cgi?id=238559
        }
    }

    function createRequestObject() {
        if (typeof XMLHttpRequest === 'undefined') {
            XMLHttpRequest = function () {
                try {
                    return new ActiveXObject("Msxml2.XMLHTTP.6.0");
                }
                catch (e) {
                }
                try {
                    return new ActiveXObject("Msxml2.XMLHTTP.3.0");
                }
                catch (e) {
                }
                try {
                    return new ActiveXObject("Msxml2.XMLHTTP");
                }
                catch (e) {
                }
                try {
                    return new ActiveXObject("Microsoft.XMLHTTP");
                }
                catch (e) {
                }
                throw new Error("This browser does not support XMLHttpRequest.");
            };
        }
        return new XMLHttpRequest();
    }

    var a = createRequestObject();
    a.open("GET", "a.cpp", true);
    a.onreadystatechange = processReqChange;
    a.send(null);
</script>

<pre class="sh_cpp">#include &lt;iostream&gt;<br>#include &lt;iomanip&gt;

using namespace std;

int main(){
  double x = 3.14159265358;
  cout << x << endl; // Вывод: 3.14159
  cout << setiosflags(ios::fixed) << setprecision(2) << x << endl; // Вывод: 3.14
  return 0;
}</pre>

<h2>Типы данных языка C/C++</h2>

<p>В С++ имеется набор встроенных типов данных для представления целых и вещественных чисел, символов, а также тип
    данных “символьный массив”, который служит для хранения символьных строк. Тип char служит для хранения отдельных
    символов и небольших целых чисел. Он занимает один машинный байт. Типы short, int и long предназначены для
    представления целых чисел. Эти типы различаются только диапазоном значений, которые могут принимать числа, а
    конкретные размеры перечисленных типов зависят от реализации. Обычно short занимает половину машинного слова, int –
    одно слово, long – одно или два слова. В 32-битных системах int и long, как правило, одного размера.</p>

<p>Типы float, double и long double предназначены для чисел с плавающей точкой и различаются точностью представления
    (количеством значащих разрядов) и диапазоном. Обычно float (одинарная точность) занимает одно машинное слово, double
    (двойная точность) – два, а long double (расширенная точность) – три.
    char, short, int и long вместе составляют целые типы, которые, в свою очередь, могут быть знаковыми (signed) и
    беззнаковыми (unsigned). В знаковых типах самый левый бит служит для хранения знака (0 – плюс, 1 – минус), а
    оставшиеся биты содержат значение. В беззнаковых типах все биты используются для значения. 8-битовый тип signed char
    может представлять значения от -128 до 127, а unsigned char – от 0 до 255.</p>

<p>Когда в программе встречается некоторое число, например 1, то это число называется <b>литералом</b>, или <b>литеральной
    константой</b>. Константой, потому что мы не можем изменить его значение, и литералом, потому что его значение
    фигурирует в тексте программы. Литерал является неадресуемой величиной: хотя реально он, конечно, хранится в памяти
    машины, нет никакого способа узнать его адрес. Каждый литерал имеет определенный тип. Так, 0 имеет тип int, 3.14159
    – тип double.</p>

<p><b>Целочисленные типы</b></p>

<ul>
    <li><b>char</b> - 8-битный знаковый тип.
    <li><b>short</b> - 16-битный знаковый тип.
    <li><b>int</b> - 32-битный знаковый тип.
    <li><b>long</b> - 64-битный знаковый тип.
</ul>

<p>Имена целочисленных типов могут использоваться в сочетании с парой модификаторов типа:</p>
<ul>
    <li><b>signed</b> - знаковый.</li>
    <li><b>unsigned</b> - беззнаковый.</li>
</ul>

<p>Вещественные типы</p>
<ul>
    <li>float - 32-битный знаковый тип.
    <li>double - 64-битный знаковый тип.
</ul>

<p>Логические типы</p>
<ul>
    <li>bool - принимает два значения - "true" или "false".
</ul>
<p>Символьные типы</p>
<ul>
    <li>char - 16-битный Unicode-символ.
</ul>

<p>Строчные типы</p>
<ul>
    <li>Строки реализованы как массив символов char[].</li>
</ul>


<h2>Работа с классами</h2>

<pre class="sh_cpp">
#include &lt;iostream&gt;
#include &lt;conio.h&gt;

using namespace std;

// === Объявление всех классов ===
class Pair {
private: // Метка доступа private - доступно только в пределах класса
  int x,y; // Объявили два поля: x и y. Они имеют целый тип (int)
public: // Метка доступа. public - всё что будет перечислено далее открыто для всех
  void init(int _x, int _y){
    x = _x; y = _y;
  }

  friend void print(ostream& os,Pair& pair){
    os << " (" << pair.x << ", " << pair.y << ") ";
  }

  friend ostream& operator<<(ostream& os,Pair& pair){
    os << " (" << pair.x << ", " << pair.y << ") ";
    return os;
  }
};

int main(int argc, char* argv[]) {
  // Использование класса
  Pair p;
  p.init(2,3); // Пользуемся методом init для заполнения закрытых полей класса
  print(cout,p);

  getch();
  return 0;
}
</pre>

<h3>Структуры (записи) в C/С++</h3>

<pre class="sh_pascal">
type
  Point = Record
    x,y : Integer;
  end;  </pre>

<h3>Перечисления в C/C++</h3>

<pre class="sh_cpp">
#include &lt;iostream&gt;
#include &lt;vector&gt;

using namespace std;

int main(){
  vector &lt;int&gt; v;
  vector &lt;int&gt; v(количество);

  v.push_back([выражение]);
  v.resize([количество]);
  v.size(); // Возвращает количество элементов в векторе (размер массива)

  return 0;
}
</pre>


<pre class="sh_cpp">
enum [имя]

</pre>

<h2>Утверждения - assert</h2>

<p>
    Для C - <b>assert.h</b>, для C++ - <b>cassert</b>.
</p>

<pre class="sh_cpp">
// Использование утверждений
#include &lt;cassert&gt;

int main(){
  // Если утверждение не сработает, то мы получим
  // останов программы и сообщение об ошибке
  assert( 2 * 2 == 4 );

  return 0;
}
</pre>


</div>
</body>

</html>
