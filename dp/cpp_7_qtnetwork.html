<html>
<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>SQL (на примере sqlite), QtSql</title>
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script type="text/javascript" src="../syntax/sh_main.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_cpp.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_sql.min.js"></script>
    <script type="text/javascript" src="../syntax/load.js"></script>
    <link type="text/css" rel="stylesheet" href="../style/sh_nedit.css">
</head>
<body onLoad="sh_highlightDocument();">
<div id="content">

    <h1>SQL (на примере sqlite), QtSql</h1>

    <p><b>SQL (structured query language - «структурированный язык запросов»)</b> - формальный непроцедурный язык
        программирования, применяемый для создания, модификации и управления данными в произвольной реляционной базе
        данных, управляемой соответствующей системой управления базами данных (СУБД).
        SQL основывается на исчислении кортежей.</p>

    <p><b>SQLite</b> - компактная встраиваемая реляционная база данных. Исходный код библиотеки передан в общественное
        достояние. В 2005 году проект получил награду Google-O’Reilly Open Source Awards.</p>

    <p>Слово «встраиваемый» означает, что SQLite не использует парадигму клиент-сервер, то есть движок SQLite не
        является
        отдельно работающим процессом, с которым взаимодействует программа, а предоставляет библиотеку, с которой
        программа
        компонуется и движок становится составной частью программы. Таким образом, в качестве протокола обмена
        используются
        вызовы функций (API) библиотеки SQLite. Такой подход уменьшает накладные расходы, время отклика и упрощает
        программу. SQLite хранит всю базу данных (включая определения, таблицы, индексы и данные) в единственном
        стандартном
        файле на том компьютере, на котором исполняется программа. Простота реализации достигается за счёт того, что
        перед
        началом исполнения транзакции записи весь файл, хранящий базу данных, блокируется.</p>

    <p>Несколько процессов или потоков могут одновременно без каких-либо проблем читать данные из одной базы. Запись в
        базу можно осуществить только в том случае, если никаких других запросов в данный момент не обслуживается; в
        противном случае попытка записи оканчивается неудачей, и в программу возвращается код ошибки. Другим вариантом
        развития событий является автоматическое повторение попыток записи в течение заданного интервала времени.</p>

    <p>В комплекте поставки идёт также функциональная клиентская часть в виде исполняемого файла <b>sqlite3</b>, с
        помощью
        которого демонстрируется реализация функций основной библиотеки. Клиентская часть работает из командной строки,
        позволяет обращаться к файлу БД на основе типовых функций ОС.</p>

    <p>Благодаря архитектуре движка возможно использовать SQLite как на встраиваемых системах, так и на выделенных
        машинах с гигабайтными массивами данных.</p>

    <p><b>Использование:</b> сама библиотека SQLite написана на C; существует большое количество привязок к другим
        языкам программирования, в том числе Delphi, C++, Java, C#, VB.NET, Python, Perl, PHP, Ruby, Haskell, Scheme,
        Smalltalk, Lua и Parser, а также ко многим другим.
        Полный список: <a href="http://www.sqlite.org/cvstrac/wiki?p=SqliteWrappers">http://www.sqlite.org/cvstrac/wiki?p=SqliteWrappers</a>
    </p>

    <p>Простота и удобство встраивания SQLite привели к тому, что библиотека используется в браузерах, музыкальных
        плеерах и многих других программах.
    </p>

    <h3>Инструменты для создания и редактирования БД</h3>

    <p>Plugin для Firefox: <a href="https://code.google.com/p/sqlite-manager/downloads/list">https://code.google.com/p/sqlite-manager/downloads/list</a>
    </p>


    <h2>Язык SQL: SELECT, INSERT, UPDATE, DELETE</h2>

    <p><b>SQL: DDL + DML + DCL.</b></p>

    <p><b>Data Definition Language (DDL) (язык описания данных)</b> - семейство компьютерных языков, используемых в
        компьютерных программах для описания структуры баз данных.</p>

    <p><b>Data Manipulation Language (DML) (язык управления/манипулирования данными)</b> - это семейство компьютерных
        языков, используемых в компьютерных программах или пользователями баз данных для получения, вставки, удаления
        или изменения данных в базах данных.</p>

    <p><b>Data Control Language (DCL) (управления БД)</b> - подмножество языка управления базами данных SQL,
        предназначенное для осуществления
        административных операций, присваивающих или отменяющих право (привилегию) использовать базу данных, таблицы и
        другие объекты базы данных, а также выполнять те или иные операторы SQL.</p>
    <ul>
        <li>GRANT — применяется для присвоения привилегии;</li>
        <li>REVOKE — применяется для отмены привилегии.</li>
    </ul>

    <h3>SELECT</h3>

    <p><b>SELECT (выбрать)</b> - оператор DML языка SQL, возвращающий набор данных (выборку) из базы данных,
        удовлетворяющих заданному условию.</p>

    <p>В большинстве случаев, выборка осуществляется из одной или нескольких таблиц. В последнем случае говорят об
        операции
        слияния - JOIN. В тех СУБД, где реализованы представления (view) и хранимые процедуры (stored
        procedure), также возможно получение соответствующих наборов данных.</p>

    <p> При формировании запроса SELECT пользователь описывает ожидаемый набор данных: его вид (набор столбцов) и его
        содержимое (критерий попадания записи в набор, группировка значений, порядок вывода записей и т. п.).</p>

    <p> Запрос выполняется следующим образом (до оптимизации): сначала извлекаются все записи из таблицы, а затем для
        каждой записи набора проверяется её соответствие заданному критерию. Если осуществляется слияние из нескольких
        таблиц, то сначала составляется произведение таблиц, а уже затем из полученного набора отбираются требуемые
        записи.</p>

    <p>Особую роль играет обработка NULL-значений, когда при слиянии, например, двух таблиц — главной (master) и
        подчинённой (detail) — имеются или отсутствуют соответствия между записями таблиц, участвующих в слиянии. Для
        решения этой задачи используются механизмы внутреннего (inner) и внешнего (outer) слияния.</p>

    <p> Один и тот же набор данных может быть получен при выполнении различных запросов. Поиск оптимального плана
        выполнения данного запроса является задачей оптимизатора.</p>


    <h3>JOIN</h3>

    <p> JOIN (INNER JOIN) - соединяем записи из двух таблиц, в конечной выборке будут только строки, когда запись есть и
        в левой таблице и в правой.</p>

    <p>


    </p>

    <h2>Соединение с базой данных. Выполнение инструкций SQL</h2>

    <h3>Подключение к Базе Данных</h3>


    <h3>Создание схемы БД</h3>

    <h3>Добавление данных</h3>

    <h3>Выполнение запроса и навигация по результирующей выборке</h3>


    <h2>Вставка, изменение и удаление записей</h2>

    <h2>Транзакции</h2>

    <h2>Использование классов-моделей SQL (модель запроса, модель таблицы). Отображение данных в
        таблице-представлении.</h2>


</div>
</body>

</html>
