<html>
<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Разбор задач первого дня</title>
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script type="text/javascript" src="../syntax/sh_main.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_python.min.js"></script>
    <link type="text/css" rel="stylesheet" href="../style/sh_nedit.css">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript"
            src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>
<body onLoad="sh_highlightDocument();">
<div style="width:80%;">
    <div style="float:right;">
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
                codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="100" height="50">
            <param name="movie"
                   value="../audio/a_smsqulh3n.swf">
            <param name="bgcolor" value="fff">
            <param
                    name="FlashVars" value="src=9094e666f613f513f50301------------ffffff">
            <param
                    name="autoplay" value="false">
            <embed src="../audio/a_smsqulh3n.swf" bgcolor="fff"
                   width="100" height="70" type="application/x-shockwave-flash"
                   pluginspage="http://www.macromedia.com/go/getflashplayer"
                   FlashVars="src=9094e666f613f513f50301------------ffffff"></embed>
        </object>
    </div>
</div>

<div id="content">

<ul class="tags">
    <li><a href="#">Разбор задач</a></li>
</ul>

<h1>День 1. Разбор задач.</h1>

<h3>Нетривиальные числа</h3>

<p>Тривиальность = (Сумма всех делителей) / $N$.</p>

<p>Рассмотрим тривиальность различных чисел:</p>

<table>
<tr><td>$\frac{1}{ 2 }=\frac{ 1 }{ 2 }= 0.5 $</td></tr>
<tr><td>$\frac{1}{ 3 }=\frac{ 1 }{ 3 }= 0.3333333333333333 $</td></tr>
<tr><td>$\frac{1+2}{ 4 }=\frac{ 3 }{ 4 }= 0.75 $</td></tr>
<tr><td>$\frac{1}{ 5 }=\frac{ 1 }{ 5 }= 0.2 $</td></tr>
<tr><td>$\frac{1+2+3}{ 6 }=\frac{ 6 }{ 6 }= 1.0 $</td></tr>
<tr><td>$\frac{1}{ 7 }=\frac{ 1 }{ 7 }= 0.14285714285714285 $</td></tr>
<tr><td>$\frac{1+2+4}{ 8 }=\frac{ 7 }{ 8 }= 0.875 $</td></tr>
<tr><td>$\frac{1+3}{ 9 }=\frac{ 4 }{ 9 }= 0.4444444444444444 $</td></tr>
<tr><td>$\frac{1+2+5}{ 10 }=\frac{ 8 }{ 10 }= 0.8 $</td></tr>
<tr><td>$\frac{1}{ 11 }=\frac{ 1 }{ 11 }= 0.09090909090909091 $</td></tr>
<tr><td>$\frac{1+2+3+4+6}{ 12 }=\frac{ 16 }{ 12 }= 1.3333333333333333 $</td></tr>
<tr><td>$\frac{1}{ 13 }=\frac{ 1 }{ 13 }= 0.07692307692307693 $</td></tr>
</table>

<p>Можно заметить, что для простых чисел тривиальность минимальна.</p>

<p>Итак, нам нужно найти наибольшее простое число из диапазона $[a,b]$ или (если в диапазоне нет ни одного простого числа), 
то число с наименьшей тривиальностью.</p>

<p>Числа до $10^6$, тогда у составных чисел хотя бы один из множителей не больше $10^3$ и простые числа встречаются не реже чем раз в 1000 чисел,
поэтому достаточно проверить интервал $[b-1000,b]$, если $b - 1000 > a$.</p>

<p><b>Как быстро посчитать тривиальность числа?</b></p>

<pre class="sh_python">
from math import sqrt

# Вычисляем тривиальность N
def trivial(N):
    sum = 1   # Сумма делителей
    for i in range(2, int(sqrt(N)) + 1):  # Пробегаем числа i от 2 до корня из N
        if N % i == 0:  # Если N делится на i
            sum += i
            ii = N // i  # Парный делитель N = i * ii
            if ii != i:  # Если он не равен i, то добавляем и его
                sum += ii
    return sum / n
</pre>


</div>
</body>

</html>
