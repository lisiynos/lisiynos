<html>
<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Базовые идеи комбинаторики</title>
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script type="text/javascript" src="../syntax/sh_main.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_pascal.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_python.min.js"></script>
    <link type="text/css" rel="stylesheet" href="../style/sh_nedit.css">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>
<body onLoad="sh_highlightDocument();">
<div style="width:80%;">
    <div style="float:right;">
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
                codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
                width="100" height="50">
            <param name="movie" value="../audio/a_smsqulh3n.swf">
            <param name="bgcolor" value="fff">
            <param name="FlashVars" value="src=../audio/8016574696f613132301------------ffffff">
            <param name="autoplay" value="false">
            <embed src="../audio/a_smsqulh3n.swf" bgcolor="fff" width="100" height="70"
                   type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer"
                   FlashVars="src=../audio/8016574696f613132301------------ffffff"></embed>
        </object>
    </div>
</div>

<div id="content">
<h1>Базовые идеи комбинаторики</h1>

<ul class="tags">
    <li><a href="#">Комбинаторика</a></li>
</ul>

<p><strong>Комбинаторика</strong> - раздел олимпиадного программирования (и раздел математики), где вычисляется
   количество вариантов выбора элементов из некоторого, как правило, конечного множества согласно заданным
    правилам.</p>

<p>В качестве примеров комбинаторных задач могут быть следующие:</p>

<ul>
    <li>Сколько различных слов возможно составить из заданного набора букв: "ATBTATBZA"?</li>
    <li>Сколько вариантов команд из 3х мальчиков и 2х девочек можно составить при наличии 10 мальчиков и 12 девочек?
    </li>
    <li>Сколько существует различных счастливых 6-значных билетов с суммой цифр, равной 30?</li>
</ul>
<p>
    Из примеров видно, что суть комбинаторных задач заключается в подсчете каких-либо комбинаций. Подобные задачи
    как правило имеют 3 вида решений: средствами комбинаторных формул, динамическим программированием (путем выведения
    рекурентных соотношений) и методом полного или частичного перебора (обычно рекурсивное решение). И порой одна и
    та же задача может быть решена любым из вышеперечисленных методов. Поэтому порой сложно конкретную задачу отнести к
    какому-либо разделу, т.к. она может быть как комбинаторной, так и динамической или рекурсивной (а то и все сразу
    вместе).
</p>

<p> Мы же в этом разделе будем в основном рассматривать задачи, решаемые средством комбинаторных формул, а динамика
    и рекурсия будет описана в следующих темах.</p>

<h3>Число перестановок $N!$</h3>

<p><b><i>Перестановкой</i></b> из $N$ элементов называется упорядоченный набор из $N$ различных чисел от 1 до $N$.
    Количество различных перестановок порядка $N$ равно $N! = 1*2*3 ... * (N-1) * N$ - факториал. Заметим, что
    $0!=1$.
    Для факториала справедлива следующая рекурентная запись: $N! = (N-1)!*N$.</p>

<p>Например, для $N=3$ существует всего 6 таких перестановок: (1 2 3), (1 3 2), (2 1 3), (2 3 1), (3 1 2) и (3 2
    1).</p>

<p>Число $N!$ называют <b>факториалом</b> и произносят как "Н факториал". В нашем случае как раз получилось
    $3! = 1*2*3 = 6$ различных перестановок.</p>

<pre class="sh_python">
# Вычисление факториала
def fact(n):
    return n if n == 1 else n * fact(n - 1)

print(fact(3))

# Итеративное вычисление факториала
def fact2(n):
    res = 1
    for i in range(2, n + 1):
        res *= i
    return res

print(fact2(3))

# Использование reduce вычисление факториала
from functools import reduce

def fact3(n):
    return reduce(lambda x, y: x * y, range(2, n + 1))

print(fact3(6))
</pre>

<h3>Число размещений $A_N^K$</h3>

<p>Под <i>числом размещений</i> понимают количество вариантов, которыми можно записать в ряд подпоследовательность
    из $K$ элементов некоторой перестановки из $N$ элементов. При этом последовательности из одинаковых элементов, но с
    различным их порядком следования считаются различными. Количество таких комбинаций расчитывается по формуле:
    $A_N^K = \frac{N!}{(N-K)!}$.</p>

<p>
    Например, для N=4 и K=2 из перестановки (1 2 3 4) можно составить следующие последовательности из 2х элементов:
    (1 2), (1 3), (1 4), (2 3), (2 4), (3 4), (2 1), (3 1), (4 1), (3 2), (4 2), (4 3). Всего получилось
    A<sub>4</sub><sup>2</sup> = 4!/(4-2)! = 12 вариантов.
</p>

<h3>Число сочетаний $C_N^K$</h3>

<p> Под <i>числом сочетаний</i> понимают количество вариантов, которыми можно выбрать $K$ элементов из некоторого
    множества, состоящего из $N$ элементов. При этом последовательности из одинаковых элементов, но с различным их
    порядком следования считаются равными. Количество таких комбинаций расчитывается по формуле:
    $C_N^K = \frac{A_N^K}{K!} = \frac{N!}{K!*(N-K)!}$.</p>

<p>
    Например, для $N=4$ и $K=2$ из перестановки (1 2 3 4) можно составить следующие последовательности из 2х
    элементов:
    (1 2), (1 3), (1 4), (2 3), (2 4), (3 4).
    Всего получилось $С_4^2 = \frac{4!}{2!*(4-2)!} = 6$ вариантов.
</p>

<p>
    Число сочетаний очень часто используется при решении комбинаторных задач. Например, при игре в "спортлото 5 из
    36"
    с помощью данной формулы можно расчитать вероятность угадывания 5 номеров, т.к. общее число возможных вариантов
    выбора 5 из 36 равно С<sub>36</sub><sup>5</sup>.
</p>

<p> Формулы, использующие число сочетаний:</p>
<ul>
    <li>C<sub>N</sub><sup>K</sup> = C<sub>N-1</sub><sup>K-1</sup> + C<sub>N-1</sub><sup>K</sup></li>
    <li>C<sub>N</sub><sup>0</sup> + C<sub>N</sub><sup>1</sup> + ... + C<sub>N</sub><sup>N</sup> = 2<sup>N</sup></li>
    <li>(x+y)<sup>N</sup>=C<sub>N</sub><sup>0</sup>*x<sup>0</sup>*y<sup>N</sup>+
        ...+C<sub>N</sub><sup>K</sup>*x<sup>K</sup>*y<sup>N-K</sup>+...+C<sub>N</sub><sup>N</sup>*x<sup>N</sup>*y<sup>0</sup>
    </li>
</ul>

<h2>Задача 1. Точки на костях Домино</h2>

<p>
    Для того, чтобы заработать огромный капитал, новым русским необходимо иметь неординарное мышление. Конечно, при
    такой сложной работе, должны так же присутствовать какие то особенные механизмы для отдыха и развлечений. В этих
    целях в казино был придуман специальный набор домино для новых русских. Обычные кости домино представляют собой
    набор из различных комбинаций сочетаний двух плиток, на каждой из которых отображается от 0 до 6 точек. А этот
    набор представляет собой подобные сочетания плиток, но количество точек на каждой может быть от нуля до
    заданного
    значения, которое зависит от интеллектуального уровня игроков. В таком наборе костей присутствуют всевозможные
    сочетания плиток, но при этом ни одна из костей не повторяется (даже такие комбинации как 2-5 и 5-2 считаются
    одинаковыми).
</p>

<p>
    Для изготовления данного набора костей перед изготовителем встала проблема вычисления суммарного количества
    точек
    на всех костях домино. Это связано с тем, что домино для новых русских украшается бриллиантами, которые
    представляют собой точки на плитках и при изготовлении необходимо оценить стоимость.
</p>

<p>
    Помогите написать программу, которая решит эту задачу.
</p>

<h3>Входные данные</h3>

<p>Входной файл содержит одно натуральное число $N$ – максимальное количество точек на одной плитке домино.
    $(N \le 10000)$</p>

<h3>Выходные данные</h3>

<p>В выходной файл выведите количество бриллиантовых камней, которые необходимо изготовить для заданного
    набора костей.</p>

<h3>Пример</h3>

<table class=main>
    <tr>
        <th>Входной файл</th>
        <th>Выходной файл</th>
    </tr>
    <tr>
        <td>2</td>
        <td>12</td>
    </tr>
</table>

<h2>Задача 2. Игра с монеткой</h2>

<p> Петя играет в интересную игру. Для этой игры необходима монетка. Петя подбрасывает ее $n$ раз и считает, сколько
    раз выпадает «решка». Если решка выпадает хотя бы $m$ раз, то Петя считает, что он выиграл игру.</p>

<p> Однажды Петя задумался, какова вероятность того, что он выиграет игру. Для этого он хочет найти количество
    последовательностей результатов подбрасывания монетки, содержащих ровно $n$ подбрасываний, при которых «решка»
    выпала хотя бы $m$ раз.</p>

<p>
    Помогите Пете — найдите это число, считая, что при каждом броске монетка может выпасть либо «орлом», либо
    «решкой».
</p>

<h3>Входные данные</h3>

<p> Входной файл содержит два целых числа: $n$ и $m$ $(1 < n \le 20, 0 \le m \le n)$.</p>

<h3>Выходные данные</h3>

<p> В выходной файл выведите ответ на задачу.</p>

<h3>Примеры</h3>

<table class=main cellpadding=2 cellspacing=1>
    <tr>
        <th>INPUT.TXT</th>
        <th>OUTPUT.TXT</th>
    </tr>
    <tr class=white2>
        <td valign=top>2 0</td>
        <td valign=top>4</td>
    </tr>
    <tr class=white2>
        <td valign=top>3 2</td>
        <td valign=top>4</td>
    </tr>
</table>

<h2>Задача 3. Шахматы</h2>

<p>Требуется найти число способов расставить на шахматной доске $N * N$ $K$ ладей так, чтобы они не били друг друга.
    Все
    ладьи считаются одинаковыми.</p>

<h3>Входные данные</h3>

<p>Во входном файле записаны натуральные числа $N$ и $K$ $(N, K \le 8)$.</p>

<h3>Выходные данные</h3>

<p>В выходной файл выведите одно целое число – ответ на задачу.</p>

<h3>Пример</h3>

<table class=main>
    <tr>
        <th>chess.in</th>
        <th>chess.out</th>
    </tr>
    <tr class=white2>
        <td>8 8</td>
        <td>40320</td>
    </tr>
</table>

<br>
</div>

</body>

</html>